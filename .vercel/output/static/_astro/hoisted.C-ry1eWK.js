import{B as i,H as c}from"./_astro-entry_react-toastify.C78vIBsG.js";/* empty css                            */import"./index.CMQ3OGCn.js";const h="164e2e6a836de5874ee4e7810db5aca0b0529b11997904bc9071050d26e0dc689809b9f71ae59155ab5eb656f03f8245";async function p(t){const r=`https://airportdb.io/api/v1/airport/${t}?apiToken=${h}`,o=await fetch(r);if(o.ok){const e=await o.json();if(e&&e.latitude_deg&&e.longitude_deg){const n=e.latitude_deg,a=e.longitude_deg;return{latitude:n,longitude:a}}else return{latitude:0,longitude:0}}else throw new Error("Error fetching data from API")}function b(t,r){const e=(r.latitude-t.latitude)*(Math.PI/180),n=(r.longitude-t.longitude)*(Math.PI/180),a=Math.sin(e/2)*Math.sin(e/2)+Math.cos(t.latitude*(Math.PI/180))*Math.cos(r.latitude*(Math.PI/180))*Math.sin(n/2)*Math.sin(n/2),s=6371*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)));return Math.round(s)}async function v(t,r){try{const o=await p(t),e=await p(r);return o&&e?b(o,e):"No distance found1"}catch(o){return console.error("Error calculating distance:",o),"No distance found"}}async function P(){const t=document.querySelector("#from"),r=document.querySelector("#to");if(!t||!r){i.error("Por favor, selecciona los aeropuertos de salida y llegada.",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,transition:c});return}const o=t.value,e=r.value;if(o===e){i.error("Los aeropuertos de salida y llegada no pueden ser el mismo.",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,transition:c});return}try{const n=await v(o,e),a=Number(n);if(a>100){const d={precioPorKm:10,cantidadDePasajeros:150,nombre:"Avión de Lujo"},s={precioPorKm:7,cantidadDePasajeros:100,nombre:"Avión Medio"},u={precioPorKm:5,cantidadDePasajeros:50,nombre:"Avión Económico"},g=a*d.precioPorKm,m=a*s.precioPorKm,f=a*u.precioPorKm;i.success(`La distancia entre ${o} y ${e} es de ${a} km`,{position:"top-center",autoClose:5e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,transition:c});let l=document.querySelector("#Respuesta");l&&(l.innerHTML=`El precio de un viaje en ${d.nombre} sería de ${g} dólares, en ${s.nombre} sería de ${m} dólares <br> y en ${u.nombre} sería de ${f} dólares.`)}}catch(n){console.error("Error calculating distance:",n)}}function M(){i.info("Calculando distancia",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,transition:c})}document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector("#caldis");t&&(t.addEventListener("click",M),t.addEventListener("click",P))});
